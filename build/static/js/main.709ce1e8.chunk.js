(this.webpackJsonpengagefrontend=this.webpackJsonpengagefrontend||[]).push([[0],{46:function(e,t,n){},73:function(e,t,n){},78:function(e,t,n){},79:function(e,t,n){},80:function(e,t,n){},81:function(e,t,n){},82:function(e,t,n){},83:function(e,t,n){},84:function(e,t,n){},85:function(e,t,n){},86:function(e,t,n){},87:function(e,t,n){},88:function(e,t,n){},89:function(e,t,n){},90:function(e,t,n){},91:function(e,t,n){"use strict";n.r(t);var r=n(1),c=n.n(r),a=n(17),s=n.n(a),o=(n(46),n(6)),i=n(14),u=(n(47),n(0)),l=function(){return Object(u.jsx)(i.a,{})},j=n(7),d=n(8),f=n(3),p=n(2),b=n.n(p),h=n(4),O=n(10),x=n.n(O),m={login:function(){var e=Object(h.a)(b.a.mark((function e(t){var n;return b.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,x.a.post("api/login",t);case 2:return n=e.sent,e.abrupt("return",n.data);case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()},g="/api/tweets",v=null,w={getAll:function(){var e=Object(h.a)(b.a.mark((function e(){var t;return b.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,x.a.get(g);case 2:return t=e.sent,e.abrupt("return",t.data);case 4:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),setToken:function(e){v="bearer ".concat(e)},create:function(){var e=Object(h.a)(b.a.mark((function e(t){var n,r;return b.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n={headers:{Authorization:v}},e.next=3,x.a.post(g,t,n);case 3:return r=e.sent,e.abrupt("return",r.data);case 5:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),tweetDelete:function(){var e=Object(h.a)(b.a.mark((function e(t){var n,r;return b.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n={headers:{Authorization:v}},e.next=3,x.a.delete("".concat(g,"/").concat(t),n);case 3:return r=e.sent,e.abrupt("return",r.data);case 5:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),tweetLike:function(){var e=Object(h.a)(b.a.mark((function e(t){var n,r;return b.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n={headers:{Authorization:v}},e.next=3,x.a.post("".concat(g,"/").concat(t,"/like"),{},n);case 3:return r=e.sent,e.abrupt("return",r.data);case 5:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),tweetRetweet:function(){var e=Object(h.a)(b.a.mark((function e(t){var n,r;return b.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n={headers:{Authorization:v}},e.next=3,x.a.post("".concat(g,"/").concat(t,"/retweet"),{},n);case 3:return r=e.sent,e.abrupt("return",r.data);case 5:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()},N="/api/users",U=null,E=function(){var e=Object(h.a)(b.a.mark((function e(){var t;return b.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,x.a.get(N);case 2:return t=e.sent,e.abrupt("return",t.data);case 4:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),y=function(){var e=Object(h.a)(b.a.mark((function e(t){var n;return b.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,x.a.get("".concat(N,"/").concat(t));case 2:return n=e.sent,e.abrupt("return",n.data);case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),S=function(){var e=Object(h.a)(b.a.mark((function e(t){var n;return b.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,x.a.get("".concat(N,"/").concat(t));case 2:return n=e.sent,e.abrupt("return",n.data);case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),k={getAll:E,create:function(){var e=Object(h.a)(b.a.mark((function e(t){var n;return b.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,x.a.post(N,t);case 2:return n=e.sent,e.abrupt("return",n.data);case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),getUserTweets:S,getSingleUser:y,followUser:function(){var e=Object(h.a)(b.a.mark((function e(t){var n,r;return b.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n={headers:{Authorization:U}},e.next=3,x.a.post("".concat(N,"/").concat(t,"/follow"),{},n);case 3:return r=e.sent,e.abrupt("return",r.data);case 5:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),setToken:function(e){U="bearer ".concat(e)},unfollowUser:function(){var e=Object(h.a)(b.a.mark((function e(t){var n,r;return b.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n={headers:{Authorization:U}},e.next=3,x.a.post("".concat(N,"/").concat(t,"/unfollow"),{},n);case 3:return r=e.sent,e.abrupt("return",r.data);case 5:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()},T=Object(r.createContext)();function C(e){var t=e.children,n=Object(f.b)(),c=Object(r.useState)((function(){var e=window.localStorage.getItem("loggedEngageAppUser");if(e){var t=JSON.parse(e);return n({type:"SET_USER",user:t}),w.setToken(t.token),k.setToken(t.token),t}return null})),a=Object(j.a)(c,2),s=a[0],o=a[1];return console.log("Provide auth",s),Object(u.jsx)(T.Provider,{value:{auth:s,setAuth:o},children:t})}function I(){return Object(r.useContext)(T)}function A(){var e=I().setAuth,t=Object(f.b)();return{signin:function(n){return new Promise((function(r,c){m.login(n).then((function(n){window.localStorage.setItem("loggedEngageAppUser",JSON.stringify(n)),w.setToken(n.token),k.setToken(n.token),t({type:"SET_USER",user:n}),i.b.success("".concat(n.username," logged in").toUpperCase()),e(n),r(n)})).catch((function(e){c(e),i.b.error("".concat(e.response.data.error).toUpperCase())}))}))},signout:function(){return new Promise((function(){window.localStorage.removeItem("loggedEngageAppUser"),i.b.success("Logged out successfully".toUpperCase()),t({type:"SET_USER",user:null}),e(null)}))}}}var R=n(24),_=function(){return function(){var e=Object(h.a)(b.a.mark((function e(t){var n;return b.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,k.getAll();case 2:n=e.sent,console.log("Requesting all users"),t({type:"INIT_USERS",data:n});case 5:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()},F=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],t=arguments.length>1?arguments[1]:void 0;switch(console.log("state now",e),console.log("action",t),t.type){case"INIT_USERS":return t.data;case"FOLLOW_USER":var n=t.data,r=n.updatedUser,c=n.userId,a=e.filter((function(e){return e.id===r.id})),s=Object(j.a)(a,1),o=s[0];o.following=[].concat(Object(R.a)(o.following),[c]);var i=e.filter((function(e){return e.id===c})),u=Object(j.a)(i,1),l=u[0];return l.followers=[].concat(Object(R.a)(l.followers),[r.id]),e=e.filter((function(e){return e.id!==r.id&&e.id!==c})),[].concat(Object(R.a)(e),[o,l]);case"UNFOLLOW_USER":var d=t.data,f=d.updatedUser,p=d.userId,b=e.filter((function(e){return e.id===f.id})),h=Object(j.a)(b,1),O=h[0];O.following=O.following.filter((function(e){return e!==p}));var x=e.filter((function(e){return e.id===p})),m=Object(j.a)(x,1),g=m[0];return g.followers=g.followers.filter((function(e){return e!==f.id})),e=e.filter((function(e){return e.id!==f.id&&e.id!==p})),[].concat(Object(R.a)(e),[O,g]);default:return e}},P=(n(73),function(){var e=Object(r.useState)(""),t=Object(j.a)(e,2),n=t[0],c=t[1],a=Object(r.useState)(""),s=Object(j.a)(a,2),l=s[0],f=s[1],p=Object(r.useState)(""),b=Object(j.a)(p,2),h=b[0],O=b[1],x=Object(r.useState)(""),m=Object(j.a)(x,2),g=m[0],v=m[1],w=Object(o.g)(),N=A();return Object(u.jsxs)("div",{className:"signUpFormContainer",children:[Object(u.jsx)("div",{className:"signUpHeader",children:Object(u.jsx)("h1",{children:"Sign up on Engage"})}),Object(u.jsxs)("form",{className:"signUpForm",onSubmit:function(e){var t;(e.preventDefault(),h===g)?(t={username:l,password:h,name:n},new Promise((function(e,n){k.create(t).then((function(t){e(t)})).catch((function(e){n(e.response.data.error),i.b.error(e.response.data.error)}))}))).then((function(e){return console.log("user creation successful",e),N.signin({username:l,password:h})})).then((function(e){console.log("User finally logged in",e),w.push("/")})).catch((function(e){console.log(e)})):i.b.error("password do not match".toUpperCase())},children:[Object(u.jsxs)("div",{className:"formGroup",children:[Object(u.jsx)("input",{id:"signup-name",type:"text",placeholder:"Name",value:n,onChange:function(e){var t=e.target;return c(t.value)},required:!0}),Object(u.jsx)("label",{htmlFor:"signup-name",children:"Name"})]}),Object(u.jsxs)("div",{className:"formGroup",children:[Object(u.jsx)("input",{id:"signup-username",type:"text",placeholder:"Username",value:l,onChange:function(e){var t=e.target;return f(t.value)},required:!0}),Object(u.jsx)("label",{htmlFor:"signup-username",children:"Username"})]}),Object(u.jsxs)("div",{className:"formGroup",children:[Object(u.jsx)("input",{id:"signup-password",type:"password",placeholder:"Password",value:h,onChange:function(e){var t=e.target;return O(t.value)},required:!0}),Object(u.jsx)("label",{htmlFor:"signup-password",children:"Password"})]}),Object(u.jsxs)("div",{className:"formGroup",children:[Object(u.jsx)("input",{id:"signup-confirm_password",type:"password",placeholder:"Confirm Password",value:g,onChange:function(e){var t=e.target;return v(t.value)},required:!0}),Object(u.jsx)("label",{htmlFor:"signup-confirm_password",children:"Confirm Password"})]}),Object(u.jsx)("button",{id:"signup-button",type:"submit",children:"Sign Up"})]}),Object(u.jsx)("div",{className:"logInText",children:Object(u.jsxs)("p",{children:["Already have an account? Please ",Object(u.jsx)(d.b,{to:"/",children:"LogIn"})]})})]})}),L=function(){return function(){var e=Object(h.a)(b.a.mark((function e(t){var n;return b.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,w.getAll();case 2:n=e.sent,console.log("request all tweets"),t({type:"INIT_TWEETS",data:n});case 5:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()},W=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],t=arguments.length>1?arguments[1]:void 0;switch(console.log("state now",e),console.log("action",t),t.type){case"INIT_TWEETS":return t.data;case"CREATE_TWEET":return e.concat(t.data);case"UPDATE_TWEET":return e.map((function(e){return e.id.toString()!==t.updatedTweet.id.toString()?e:t.updatedTweet}));default:return e}},q=(n(78),function(){var e=Object(f.b)(),t=Object(r.useState)(""),n=Object(j.a)(t,2),c=n[0],a=n[1];return Object(u.jsxs)("div",{className:"create-tweet-container",children:[Object(u.jsx)("div",{className:"profile-img",children:Object(u.jsx)("img",{src:"https://krp9848.github.io/portfolio/static/media/profile.a110496e.jpeg",alt:"profile image"})}),Object(u.jsx)("div",{className:"tweet-form-container",children:Object(u.jsxs)("form",{onSubmit:function(t){t.preventDefault(),e(function(e){return function(){var t=Object(h.a)(b.a.mark((function t(n){var r;return b.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,w.create(e);case 2:r=t.sent,n({type:"CREATE_TWEET",data:r}),i.b.success("New Tweet added".toUpperCase());case 5:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()}({text:c})),a("")},children:[Object(u.jsx)("div",{className:"tweet-text",children:Object(u.jsx)("textarea",{name:"tweet-textdata",id:"tweet-text",cols:"30",rows:"10",placeholder:"Share your thoughts",value:c,onChange:function(e){var t=e.target;return a(t.value)},required:!0})}),Object(u.jsx)("button",{id:"tweet-button",type:"submit",children:"Engage"})]})})]})}),D=(n(79),n(16)),z=function(e){var t=e.tweet,n=Object(f.b)();return Object(u.jsxs)("div",{className:"tweet-container",children:[Object(u.jsx)("div",{className:"tweet-user",children:Object(u.jsx)("img",{src:"https://krp9848.github.io/portfolio/static/media/profile.a110496e.jpeg",alt:"profile image"})}),Object(u.jsxs)("div",{className:"tweet-info",children:[Object(u.jsxs)("div",{className:"tweet-title-info",children:[Object(u.jsx)("span",{children:t.user.name}),Object(u.jsxs)("span",{children:["@",t.user.username]}),Object(u.jsx)("span",{children:t.tweetedAt.substring(0,10)})]}),Object(u.jsx)("div",{className:"tweet-text",children:t.text}),Object(u.jsxs)("div",{className:"tweet-stats",children:[Object(u.jsxs)("div",{className:"comment",children:[Object(u.jsx)(D.a,{}),Object(u.jsx)("span",{children:"1"})]}),Object(u.jsxs)("div",{className:"retweet",onClick:function(){var e;n((e=t.id,function(){var t=Object(h.a)(b.a.mark((function t(n){var r;return b.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,w.tweetRetweet(e);case 2:r=t.sent,n({type:"UPDATE_TWEET",updatedTweet:r});case 4:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()))},children:[Object(u.jsx)(D.d,{}),Object(u.jsx)("span",{children:t.retweets.length})]}),Object(u.jsxs)("div",{className:"likes",onClick:function(){var e;n((e=t.id,function(){var t=Object(h.a)(b.a.mark((function t(n){var r;return b.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,w.tweetLike(e);case 2:r=t.sent,n({type:"UPDATE_TWEET",updatedTweet:r});case 4:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()))},children:[Object(u.jsx)(D.b,{}),Object(u.jsx)("span",{children:t.likes.length})]})]})]})]})},G=function(e){var t=e.tweets;return Object(u.jsxs)("div",{children:[Object(u.jsx)("h2",{children:"All Tweets"}),t.map((function(e){return Object(u.jsx)(z,{tweet:e},e.id)}))]})},H=(n(80),function(){var e=Object(f.c)((function(e){return e.tweets}));return Object(u.jsxs)("div",{className:"home-view",children:[Object(u.jsx)(q,{}),Object(u.jsx)(G,{tweets:e})]})}),J=(n(81),"/login"),M="/home",B="/profile",V=function(){var e=A(),t=Object(f.c)((function(e){return e.loggedInUser}));return Object(u.jsxs)("nav",{className:"sidebar",children:[Object(u.jsx)("h1",{className:"app-logo",children:Object(u.jsx)(d.b,{to:"/",children:"Engage"})}),Object(u.jsxs)("ul",{className:"sidebar-list",children:[Object(u.jsx)("li",{className:"sidebar-list-item",children:Object(u.jsxs)(d.b,{to:M,children:[Object(u.jsx)(D.c,{}),Object(u.jsx)("span",{children:"Home"})]})}),Object(u.jsx)("li",{className:"sidebar-list-item",children:Object(u.jsxs)(d.b,{to:"".concat(B,"/").concat(t.username),children:[Object(u.jsx)(D.f,{}),Object(u.jsx)("span",{children:"Profile"})]})}),Object(u.jsx)("li",{className:"sidebar-list-item",children:Object(u.jsxs)(d.b,{to:J,onClick:function(){e.signout()},children:[Object(u.jsx)(D.e,{}),Object(u.jsx)("span",{children:"Sign Out"})]})})]})]})},K=(n(82),n(38)),Q=(n(83),function(e){var t=e.user,n=t.name,r=t.username;return Object(u.jsx)("div",{className:"user",children:Object(u.jsxs)(d.b,{to:"".concat(B,"/").concat(r),children:[Object(u.jsx)("div",{className:"user-image",children:Object(u.jsx)("img",{src:"https://krp9848.github.io/portfolio/static/media/profile.a110496e.jpeg",alt:"profile image"})}),Object(u.jsxs)("div",{className:"user-details",children:[Object(u.jsx)("p",{className:"name",children:n}),Object(u.jsxs)("p",{className:"username",children:["@",r]})]})]})})}),X=(n(84),function(){var e=Object(f.c)((function(e){return e.users})),t=Object(f.c)((function(e){return e.currentUser}));console.log("currentUser",t);var n,r=t.following&&t.following.map((function(e){return e.id})),c=0,a=[],s=Object(K.a)(e);try{for(s.s();!(n=s.n()).done;){var o=n.value;if(r.includes(o.id)||o.id===t.id||(a.push(o),c+=1),c>=5)break}}catch(i){s.e(i)}finally{s.f()}return Object(u.jsxs)("div",{className:"follow-suggest-container",children:[Object(u.jsx)("h3",{className:"follow-suggest-header",children:"Follow Suggestions"}),a.map((function(e){return Object(u.jsx)(Q,{user:e},e.id)}))]})}),Y=(n(85),function(){var e=Object(r.useState)(""),t=Object(j.a)(e,2),n=t[0],c=t[1],a=Object(f.c)((function(e){return n?e.users.filter((function(e){return e.name.toLowerCase().includes(n.toLowerCase())})):[]}));return Object(u.jsxs)("div",{className:"searchUser",children:[Object(u.jsx)("input",{type:"text",id:"search-username",placeholder:"Search User",value:n,onChange:function(e){var t=e.target;return c(t.value)}}),Object(u.jsx)("div",{className:"searchResults",children:a.map((function(e){return Object(u.jsx)(Q,{user:e},e.id)}))})]})}),Z=(n(86),function(){return Object(u.jsxs)("div",{className:"search-and-suggest",children:[Object(u.jsx)(Y,{}),Object(u.jsx)(X,{})]})}),$=function(e){return function(){var t=Object(h.a)(b.a.mark((function t(n){var r;return b.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,k.getSingleUser(e);case 2:r=t.sent,n({type:"INIT_USER",data:r});case 4:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()},ee=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1?arguments[1]:void 0;switch(console.log("state now",e),console.log("action",t),t.type){case"INIT_USER":return t.data;default:return e}},te=function(){var e=Object(f.b)(),t=Object(f.c)((function(e){return e.loggedInUser.id}));return Object(r.useEffect)((function(){e($(t))}),[]),Object(r.useEffect)((function(){e(L())}),[]),Object(r.useEffect)((function(){e(_())}),[]),Object(u.jsxs)("div",{className:"home-container",children:[Object(u.jsx)(V,{}),Object(u.jsx)(H,{}),Object(u.jsx)(Z,{})]})},ne=(n(87),function(e){var t=e.username,n=Object(f.b)(),r=Object(f.c)((function(e){return e.currentUser})),c=Object(f.c)((function(e){return e.users.filter((function(e){return e.username===t}))})),a=Object(j.a)(c,1)[0];console.log("currentUser",r),console.log("currentProfileUser",a);var s=(r&&r.username)===(a&&a.username),o=!1;s||(o=a&&a.followers.find((function(e){return e===r.id})));return Object(u.jsxs)("div",{className:"profile-header-container",children:[Object(u.jsx)("div",{className:"profile-image",children:Object(u.jsx)("img",{src:"https://krp9848.github.io/portfolio/static/media/profile.a110496e.jpeg",alt:"profile photo"})}),Object(u.jsxs)("div",{className:"profile-info",children:[Object(u.jsxs)("div",{className:"profile-info-main",children:[Object(u.jsxs)("div",{className:"profile-username",children:["@",a&&a.username," "]}),s?Object(u.jsx)("button",{children:"Edit Profile"}):Object(u.jsx)("button",{onClick:function(){var e;o?(console.log("Unfollowing now"),n((e=a.id,function(){var t=Object(h.a)(b.a.mark((function t(n){var r;return b.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,k.unfollowUser(e);case 2:r=t.sent,n({type:"UNFOLLOW_USER",data:{updatedUser:r,userId:e}});case 4:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()))):(console.log("following now"),n(function(e){return function(){var t=Object(h.a)(b.a.mark((function t(n){var r;return b.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,k.followUser(e);case 2:r=t.sent,n({type:"FOLLOW_USER",data:{updatedUser:r,userId:e}});case 4:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()}(a.id)))},children:o?"Unfollow":"Follow"})]}),Object(u.jsxs)("div",{className:"profile-info-stats",children:[Object(u.jsxs)("p",{className:"count-post",children:[a&&a.tweets.length," ",Object(u.jsx)("span",{children:"posts"})]}),Object(u.jsxs)("p",{className:"count-followers",children:[a&&a.followers.length," ",Object(u.jsx)("span",{children:"followers"})]}),Object(u.jsxs)("p",{className:"count-post",children:[a&&a.following.length," ",Object(u.jsx)("span",{children:"following"})]})]}),Object(u.jsxs)("div",{className:"profile-info-desc",children:[Object(u.jsx)("div",{className:"profile-name",children:a&&a.name}),Object(u.jsx)("div",{className:"profile-desc",children:a&&a.description})]})]})]})}),re=(n(88),function(){var e=Object(o.i)().username,t=Object(f.c)((function(t){return t.tweets.filter((function(t){return t.user.username===e}))}));return Object(u.jsxs)("div",{className:"profile-view",children:[Object(u.jsx)(ne,{username:e}),Object(u.jsx)(G,{tweets:t})]})}),ce=(n(89),function(){var e=Object(f.b)(),t=Object(f.c)((function(e){return e.loggedInUser.id}));return Object(r.useEffect)((function(){e($(t))}),[]),Object(r.useEffect)((function(){e(L())}),[]),Object(r.useEffect)((function(){e(_())}),[]),Object(u.jsxs)("div",{className:"profile-container",children:[Object(u.jsx)(V,{}),Object(u.jsx)(re,{}),Object(u.jsx)(Z,{})]})}),ae=(n(90),function(){var e=Object(r.useState)(""),t=Object(j.a)(e,2),n=t[0],c=t[1],a=Object(r.useState)(""),s=Object(j.a)(a,2),i=s[0],l=s[1],f=Object(o.g)(),p=Object(o.h)(),b=A(),h=(p.state||{from:{pathname:"/"}}).from;return Object(u.jsxs)("div",{className:"loginFormContainer",children:[Object(u.jsx)("div",{className:"loginHeader",children:Object(u.jsx)("h1",{children:"Log in to Engage"})}),Object(u.jsxs)("form",{className:"loginForm",onSubmit:function(e){e.preventDefault();var t={username:n,password:i};b.signin(t).then((function(){f.replace(h)})).catch((function(e){return console.log(e)})),c(""),l("")},children:[Object(u.jsxs)("div",{className:"formGroup",children:[Object(u.jsx)("input",{id:"username",type:"text",placeholder:"username",value:n,onChange:function(e){var t=e.target;return c(t.value)},required:!0}),Object(u.jsx)("label",{htmlFor:"username",children:"username"})]}),Object(u.jsxs)("div",{className:"formGroup",children:[Object(u.jsx)("input",{id:"password",type:"password",placeholder:"password",value:i,onChange:function(e){var t=e.target;return l(t.value)},required:!0}),Object(u.jsx)("label",{htmlFor:"password",children:"password"})]}),Object(u.jsx)("button",{id:"login-button",type:"submit",children:"Login"})]}),Object(u.jsx)("div",{className:"signUpText",children:Object(u.jsxs)("p",{children:["Don't have an account? Please ",Object(u.jsx)(d.b,{to:"/signup",children:"SignUp"})]})})]})}),se=n(20),oe=n(39),ie=["children"];var ue=function(e){var t=e.children,n=Object(oe.a)(e,ie),r=I().auth;console.log("Private Router context",r);var c=Object(f.c)((function(e){return e.loggedInUser}));return console.log("Private Router redux",c),Object(u.jsx)(o.b,Object(se.a)(Object(se.a)({},n),{},{render:function(e){var n=e.location;return r&&r.token?Object(u.jsx)(u.Fragment,{children:t}):Object(u.jsx)(o.a,{to:{pathname:"/login",state:{from:n}}})}}))},le=function(){return Object(u.jsxs)("div",{children:[Object(u.jsx)(d.b,{to:"/",children:"Home"}),Object(u.jsx)("p",{children:"Page Not Found"})]})},je=function(){return Object(u.jsxs)(u.Fragment,{children:[Object(u.jsx)(l,{}),Object(u.jsxs)(o.d,{children:[Object(u.jsx)(o.b,{exact:!0,path:J,component:ae}),Object(u.jsx)(o.b,{exact:!0,path:"/signup",component:P}),Object(u.jsx)(ue,{exact:!0,path:"/",children:Object(u.jsx)(te,{})}),Object(u.jsx)(ue,{exact:!0,path:M,children:Object(u.jsx)(te,{})}),Object(u.jsx)(ue,{exact:!0,path:"".concat(B,"/:username"),children:Object(u.jsx)(ce,{})}),Object(u.jsx)(o.b,{path:"*",component:le})]})]})},de=n(23),fe=n(40),pe=n(41),be=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null,t=arguments.length>1?arguments[1]:void 0;switch(console.log("state now",e),console.log("action",t),t.type){case"SET_USER":return t.user;case"REMOVE_USER":return null;default:return e}},he=Object(de.combineReducers)({users:F,currentUser:ee,tweets:W,loggedInUser:be}),Oe=Object(de.createStore)(he,Object(fe.composeWithDevTools)(Object(de.applyMiddleware)(pe.a))),xe=function(){return Object(u.jsx)(u.Fragment,{children:Object(u.jsx)(f.a,{store:Oe,children:Object(u.jsx)(C,{children:Object(u.jsx)(d.a,{children:Object(u.jsx)(je,{})})})})})};s.a.render(Object(u.jsx)(c.a.StrictMode,{children:Object(u.jsx)(xe,{})}),document.getElementById("root"))}},[[91,1,2]]]);
//# sourceMappingURL=main.709ce1e8.chunk.js.map